<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.2.0 (458672)"/><meta name="altitude" content="896.9999389648438"/><meta name="author" content="林"/><meta name="created" content="2019-08-22 08:20:04 +0000"/><meta name="latitude" content="24.41804504394531"/><meta name="longitude" content="98.57332743520229"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-09-09 06:16:54 +0000"/><title>let,also,with,run,apply函数区别与基本用法</title></head><body><div>let的使用场景</div><div>场景一：对可以为null的对象做判空处理</div><div>场景二：对一个特定对象进行设置</div><div>在作用范围内it指的是对象本身</div><div>返回范围内最后一行代码或者Unit</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><font face="Monaco">View?.let{</font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;">    i</span><font face="Monaco">t.setColor(Color.Red)</font><br/></div><div><font face="Monaco"><span>    </span>it.setBackground(R.drawable.bg)<br/></font></div><div><font face="Monaco"><span>    </span>…<br/></font></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div></div><div><br/></div><div>alse</div><div>alse与let的区别在于alse最后返回到是对象本身</div><div><br/></div><div>with</div><div>当调用一个类的多个方法时，可以省去类名，直接调用方法即可</div><div><span/></div><div>with不能判空</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><font face="Monaco">val object = getObject()?:return</font></div><div><font face="Monaco">with(object){</font><br/></div><div><font face="Monaco"><span>    setEye(xxx)</span><br/></font></div><div><font face="Monaco"><span><span>    setSpeed(xxx)</span><br/></span></font></div><div><font face="Monaco"><span><span><span>    ...</span><br/></span></span></font></div><div><font face="Monaco"><span>}</span></font></div></div><div><br/></div><div><span><span><span><span><span><span>run</span></span></span></span></span></span></div><div>run和with很像，不同在于run可以判null</div><div>并且run返回最后一行代码值或者Unit</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>getObject().run{</div><div><span>    </span>setEye(xxx)</div><div>    setSpeed(xxx)</div><div>    ...</div><div>}</div></div><div><br/></div><div>apply</div><div>apply和with不同在于最后返回的是对象本身</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><font face="Monaco">val view = View.inflate(this,R.layout.mView).apply{</font></div><div><font face="Monaco"><span>    </span></font>setEye(xxx)</div><div>    setSpeed(xxx)</div><div>    …</div><div><font face="Monaco">}</font></div></div><div><br/></div></body></html>